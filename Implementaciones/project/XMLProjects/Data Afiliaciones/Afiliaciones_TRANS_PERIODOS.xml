<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="10/31/2012 10:34:47 AM"
  DTS:CreationName="Microsoft.Package"
  DTS:CreatorComputerName="AMS06"
  DTS:CreatorName="AMS\adminb"
  DTS:DTSID="{6F874631-C2A3-49CA-8277-9A12F4A680EB}"
  DTS:ExecutableType="Microsoft.Package"
  DTS:LastModifiedProductVersion="15.0.1301.433"
  DTS:LocaleID="1033"
  DTS:ObjectName="Afiliaciones_TRANS_PERIODOS"
  DTS:VersionBuild="69"
  DTS:VersionGUID="{215BD14B-473A-4A05-8465-A609E3BF487F}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">8</DTS:Property>
  <DTS:LogProviders>
    <DTS:LogProvider
      DTS:ConfigString="DS_MSDB"
      DTS:CreationName="Microsoft.LogProviderSQLServer"
      DTS:Description="Writes log entries for events to a SQL Server database"
      DTS:DTSID="{76DC299D-D32C-45E6-B003-20A83689A8BC}"
      DTS:ObjectName="SSIS log provider for SQL Server">
      <DTS:ObjectData>
        <InnerObject />
      </DTS:ObjectData>
    </DTS:LogProvider>
  </DTS:LogProviders>
  <DTS:Variables />
  <DTS:LoggingOptions
    DTS:FilterKind="0"
    DTS:LoggingMode="1">
    <DTS:Property
      DTS:DataType="8"
      DTS:Name="EventFilter">1,7,OnError</DTS:Property>
    <DTS:Property
      DTS:EventName="OnError"
      DTS:Name="ColumnFilter">
      <DTS:Property
        DTS:Name="Computer">-1</DTS:Property>
      <DTS:Property
        DTS:Name="Operator">-1</DTS:Property>
      <DTS:Property
        DTS:Name="SourceName">-1</DTS:Property>
      <DTS:Property
        DTS:Name="SourceID">-1</DTS:Property>
      <DTS:Property
        DTS:Name="ExecutionID">-1</DTS:Property>
      <DTS:Property
        DTS:Name="MessageText">-1</DTS:Property>
      <DTS:Property
        DTS:Name="DataBytes">-1</DTS:Property>
    </DTS:Property>
    <DTS:SelectedLogProviders>
      <DTS:SelectedLogProvider
        DTS:InstanceID="{76DC299D-D32C-45E6-B003-20A83689A8BC}" />
    </DTS:SelectedLogProviders>
  </DTS:LoggingOptions>
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\Actualiza TRAS PERIODO"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Elimina h_internaciones"
      DTS:DTSID="{e612f1a0-fbca-40ab-bd63-15ea02b7c3af}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Actualiza TRAS PERIODO"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; Microsoft SQL Server v9; © 2004 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:LoggingOptions
        DTS:FilterKind="0" />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{11D08769-CF45-4059-8409-A9E55D05AA1A}"
          SQLTask:SqlStatementSource="/* Carga la tablas TRANS_PERIODO_6/5/4/3/2 que se utiliza para Transformaciones */&#xA;&#xA;&#x9;declare @mes as char(2)&#xA;&#xA;/* Inserta un renglón en la tabla TRANS_PERIODO */&#xA;&#xA;&#x9;Delete TRANS_PERIODO FROM AUX_PERIODO_MES_BORRA WHERE TRANS_PERIODO.id_periodo = AUX_PERIODO_MES_BORRA.id_periodo&#xA;&#xA;&#x9;Select @mes = convert(char(2), datepart(mm,dateadd(month, -1, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01')))))) from AUX_PERIODO_MES_BORRA a11&#xA;&#xA;&#x9;Select @mes = @mes where @mes &gt; 9&#xA;&#x9;Select @mes = '0' + @mes where @mes &lt; 10&#xA;&#xA;&#x9;INSERT INTO TRANS_PERIODO &#xA;&#x9;SELECT a11.id_periodo, convert(char(4),datepart(year, dateadd(month, -1, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01'))))))+ @mes &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA a11&#xA;&#xA;&#xA;/* Inserta un renglón en la tabla TRANS_PERIODO_2 */&#xA;&#xA;&#x9;DELETE TRANS_PERIODO_2 &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA&#xA;&#x9;WHERE TRANS_PERIODO_2.id_periodo = AUX_PERIODO_MES_BORRA.id_periodo&#xA;&#xA;&#x9;Select @mes= convert(char(2), datepart(mm,dateadd(month, -2, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01')))))) from AUX_PERIODO_MES_BORRA a11&#xA;&#x9;Select @mes = @mes where @mes &gt; 9&#xA;&#x9;Select @mes = '0' + @mes where @mes &lt; 10&#xA;&#xA;&#x9;INSERT INTO TRANS_PERIODO_2 &#xA;&#x9;SELECT a11.id_periodo, convert(char(4),datepart(year, dateadd(month, -2, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01'))))))+ @mes &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA a11&#xA;&#xA;&#xA;/* Inserta un renglón en la tabla TRANS_PERIODO_3 */&#xA;&#xA;&#x9;DELETE TRANS_PERIODO_3 &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA &#xA;&#x9;WHERE TRANS_PERIODO_3.id_periodo = AUX_PERIODO_MES_BORRA.id_periodo&#xA;&#xA;&#x9;Select @mes= convert(char(2), datepart(mm,dateadd(month, -3, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01')))))) from AUX_PERIODO_MES_BORRA a11&#xA;&#x9;Select @mes = @mes where @mes &gt; 9&#xA;&#x9;Select @mes = '0' + @mes where @mes &lt; 10&#xA;&#xA;&#x9;INSERT INTO TRANS_PERIODO_3 &#xA;&#x9;SELECT a11.id_periodo, convert(char(4),datepart(year, dateadd(month, -3, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01'))))))+ @mes &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA a11&#xA;&#xA;/* Inserta un renglón en la tabla TRANS_PERIODO_4 */&#xA;&#xA;&#x9;DELETE TRANS_PERIODO_4 &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA &#xA;&#x9;WHERE TRANS_PERIODO_4.id_periodo = AUX_PERIODO_MES_BORRA.id_periodo&#xA;&#xA;&#x9;Select @mes= convert(char(2), datepart(mm,dateadd(month, -4, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01')))))) from AUX_PERIODO_MES_BORRA a11&#xA;&#x9;Select @mes = @mes where @mes &gt; 9&#xA;&#x9;Select @mes = '0' + @mes where @mes &lt; 10&#xA;&#xA;&#x9;INSERT INTO TRANS_PERIODO_4 &#xA;&#x9;SELECT a11.id_periodo, convert(char(4),datepart(year, dateadd(month, -4, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01'))))))+ @mes &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA a11&#xA;&#xA;/* Inserta un renglón en la tabla TRANS_PERIODO_5 */&#xA;&#xA;&#x9;DELETE TRANS_PERIODO_5 &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA &#xA;&#x9;WHERE TRANS_PERIODO_5.id_periodo = AUX_PERIODO_MES_BORRA.id_periodo&#xA;&#xA;&#x9;Select @mes = convert(char(2), datepart(mm,dateadd(month, -5, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01')))))) from AUX_PERIODO_MES_BORRA a11&#xA;&#x9;Select @mes = @mes where @mes &gt; 9&#xA;&#x9;Select @mes = '0' + @mes where @mes &lt; 10&#xA;&#xA;&#x9;INSERT INTO TRANS_PERIODO_5 &#xA;&#x9;SELECT a11.id_periodo, convert(char(4),datepart(year, dateadd(month, -5, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01'))))))+ @mes &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA a11&#xA;&#xA;/* Inserta un renglón en la tabla TRANS_PERIODO_6 */&#xA;&#xA;&#x9;DELETE TRANS_PERIODO_6 &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA &#xA;&#x9;WHERE TRANS_PERIODO_6.id_periodo = AUX_PERIODO_MES_BORRA.id_periodo&#xA;&#xA;&#x9;Select @mes = convert(char(2), datepart(mm,dateadd(month, -6, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01')))))) from AUX_PERIODO_MES_BORRA a11&#xA;&#x9;Select @mes = @mes where @mes &gt; 9&#xA;&#x9;Select @mes = '0' + @mes where @mes &lt; 10&#xA;&#xA;&#x9;INSERT INTO TRANS_PERIODO_6&#xA;&#x9;SELECT a11.id_periodo, convert(char(4),datepart(year, dateadd(month, -6, convert(datetime, ltrim((cast(a11.id_periodo as nvarchar) + '01'))))))+ @mes &#xA;&#x9;FROM AUX_PERIODO_MES_BORRA a11&#xA;&#xA; " xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="8">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph">
        <NodeLayout
          Size="179,44"
          Id="Package\Actualiza TRAS PERIODO"
          TopLeft="351.5,114.5" />
      </GraphLayout>
    </LayoutInfo>
  </Package>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>